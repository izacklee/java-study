2021.5.16
#### 1 Kafka
   1）消息流转过程
   2）Server 端主要有三块内容:GroupCoordinator、Controller 和 ReplicaManager
#### 2 保证消息不丢（确保消息发送到kafka）
   消息丢的原因：消息没发到kafka
   1）生产者配置：
    1.1）send(msg) vs send(msg,callback)
    1.2）ack=0,ack=1(默认)，ack=-1/all
   2）Borker配置：
    2.1）min.insync.replicas>1（ISR中replica>1）
    2.2）unclean.leader.election.enable = false（落后太多的副本不能参与选主）
#### 3 保证消息不重复
   1）原因：
     1.1）生产者重复消费
     1.2）消费者重复消费
   2）怎么样保证不重复？
    2.1）保证不重复消费
    2.2）消息加上业务属性（如：消息id），消费时去重
#### 4 项目应用
  1）一个视频的数据分析系统
    1.1）项目思考
        1.1.1）并发请求和处理能力不匹配问题
        1.1.2）交互方式必须得异步
        1.1.3）视频如何存放
        1.1.4）视频存放要考虑共享存储解决方案
    1.2）架构设计
        用户A        用户A            用户A             
          |           |                |
        提交数据  生成流水号并返回   查询系统处理情况
          ↓           ↓                ↓
          >>          后台系统         << 
          ↓
         mysql                  ↓
                             调度队列
                                ↓
                             任务调度 ->  视频分析后台系统
    1.3）核心代码
       1.3.1）对外接口
       1.3.2）业务提交逻辑
       1.3.3）核心调度
#### 5 面试相关
  1）简历
    1.1）突出重点，内容不要过长
    1.2）不熟悉的内容不要写
    1.3）对自己掌握的技术栈要有总结，不要简单罗列（比如对并发编程比较熟悉，有理论有实践，实际项目中用到了（
        目的就是招你来可以直接干活，不需要再培训，有理论有实践证明你掌握得比较深了））
  2）项目
    2.1）尽量跳有技术含量的项目写，不要所有项目都写（这样才能证明你的价值）
    2.2）对项目要有自己的总结和思考（对项目不够熟悉，要么思考少了，要么不是你开发的（可能只是做了修改））
       2.1）项目的用户群体？用户量多少？
       2.2）提供了什么服务？解决了什么问题？（给谁提供了什么服务，带来了什么价值）
       2.3）项目的系统架构？（使用的框架、业务架构（模块）、前端用了什么技术、接进来后用了什么网关、
            前端流量怎么在后台处理、负载均衡怎么做的、流量异常有没有什么监控、有没有日志、出问题怎么查等等）
            可以把项目中使用的框架介绍下，然后介绍整个项目的功能模块，最后可以根据个别比较有特色的模块
            （你参与的功能模块）来说数据库的表的设计等等
       2.4）你在项目中担任什么角色？
       2.5）项目的难点是什么？
       2.6）项目有没有不合理的地方，如何优化？
  3）面试技巧
    3.1）态度，态度，态度，重要的事说三遍
       3.1.1）觉得简单的问题也要认真回答，千万不要有鄙视面试官的心态
       3.1.2）不会的问题也不要过分自卑，强词夺理（这个问题不合理，这个问想表达什么意思，可以回答：这个问题我没研究过） 
    3.2）遇到不会的问题？比如：能说说redis中的事务吗？
       3.2.1）如果不知道redis中的事务，你可以说说mysql中的事务，或者说说你对事务的理解。
       3.2.2）如果确实不知道，可以说：抱歉，这个问题不是很了解。
       3.2.3）面试官很多时候要的不是一个确定的答案，而是通过你的回答了解你的应变能力、表达能力、知识面等。
    3.3）不要泛泛而谈，比如：你了解Java中的并发编程吗？
       答：并发编程就是锁，synchronized。这样的回答显得很浮躁。你可以从并发编程的场景、带来的问题、解决方案、
       实际项目中的例子等方面来回答（可以先问面试官是不是想知道这些方面的回答，再作答，可从侧面回答）。
  4）选择
    4.1）机会 > 眼前，选择那些能提升你的技术水平的公司，选择那些能让你快速成长的团队。面试的时候，如果聊的不错，
        可以问问入职后的工作内容等等。
    4.2）不要局限于本职工作。在参与一个项目的时候，除了完成在项目中的职责外，还要站在更高的点去思考问题：
        4.2.1）项目架构我了解了吗？
        4.2.2）项目核心技术是什么？                                                                